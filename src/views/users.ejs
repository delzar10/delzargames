<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--Import Google Icon Font-->
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="styles.css">
        <!--Let browser know website is optimized for mobile-->
		<script src="../vendor.js"></script>
</head>
  <body>

   <!-- si utiliza ejs-compiled-loader es necesario utilizar src/pathToFile -->
   <%- include header %>

   <div class="container padding-10">
       <div class="row">
         <%- include sidebar-admin %>
         <div class="col-sm-8">
		<div class="main-box clearfix">
			<div class="table-responsive">
				<table class="table user-list">
					<thead>
						<tr>
							<th><span>User</span></th>
							<th><span>Created</span></th>
							<th class="text-center"><span>Status</span></th>
							<th><span>Email</span></th>
							<th>&nbsp;</th>
						</tr>
					</thead>
					<tbody>			

				<% users.forEach(function(user){ %>
					<tr>
							<td>
								<img src="<%=user.imgFullPath%>" alt="">
								<a href="#" class="user-link"><%=user.username%></a>
								<span class="user-subhead">Admin</span>
							</td>
							<td>
								2013/08/12
							</td>
							<td class="text-center">
								<span class="label label-success">Active</span>
							</td>
							<td>
								<a href="#"><%=user.email%></a>
							</td>
							<td style="width: 20%;">
								<a href="#" class="table-link">
									<span class="fa-stack">
										<i class="fa fa-square fa-stack-2x"></i>
										<i class="fa fa-search-plus fa-stack-1x fa-inverse"></i>
									</span>
								</a>
								<a href="/edit-user/<%=user.username%>" class="table-link">
									<span class="fa-stack">
										<i class="fa fa-square fa-stack-2x"></i>
									</span>
								</a>
								<a href="javascript:void(0)" class="table-link danger" onclick="
										$.ajax({
											async: true,
											url:'/delete-user/<%=user.username%>', 
											success:  function showResponse(responseText, statusText, xhr) {
											alert('status: ' + statusText + '\n\nresponseText: \n' + responseText );
											}
										});
								
								this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode);">
									<span class="fa-stack">
										<i class="fa fa-square fa-stack-2x"></i>
										<i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
									</span>
								</a>
							</td>
						</tr>
						<% }); %>

                        			</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
</div>
       </div>
   </div>

   <%- include footer %>

    <script src="bundle.js">
    </script>
  </body>
</html>
